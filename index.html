<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Rock Paper Scissors</title>

		<style>
			h1 {
				text-align: center;
			}
		</style>
	</head>
	<body>
		<h1>Play Rock, Paper, Scissors</h1>

		<script>
			function getComputerChoice() {
				/*generate a random number between 1-10
			             if the number is 1-3, return rock
			             if the number is between 4-7 return paper
			             if the number is between 8-10 return scissors*/

				let tempNum = Math.random() * 10;
				let response;

				if (tempNum < 3) {
					response = 'Rock';
				} else if (tempNum < 6) {
					response = 'Paper';
				} else {
					response = 'Scissors';
				}

				return response;
			}

			function playRound(playerSelection, computerSelection) {
				/*make player selection lower case
			             player wins if : (p: rock, c: scissors/ p: paper: c: rock/p: scissors, c: paper)
			             else: computer wins */

				let winner;

				if (
					(playerSelection === 'rock' && computerSelection === 'Scissors') ||
					(playerSelection === 'paper' && computerSelection === 'Rock') ||
					(playerSelection === 'scissors' && computerSelection === 'Paper')
				) {
					winner = 'player';
				} else {
					winner = 'computer';
				}

				return roundResponse(winner, playerSelection, computerSelection);
			}

			function roundResponse(whoWon, a, b) {
				if (whoWon == 'player') {
					response = 'You win! ' + a + ' beats ' + b;
				} else {
					response = 'You lose! ' + b + ' beats ' + a;
				}
				return response;
			}

			function game() {
				let playerScore = 0;
				let computerScore = 0;

				for (let i = 0; i < 5; i++) {
					const playerSelection = prompt(
						'Rock, paper, or scissors?'.toLowerCase()
					);
					const computerSelection = getComputerChoice();
					let winner = playRound(playerSelection, computerSelection);
					console.log(winner);

					if (winner.includes('win')) {
						playerScore++;
					} else {
						computerScore++;
					}

					console.log(
						'Player points: ' +
							playerScore +
							'  Computer points: ' +
							computerScore
					);
				}
				if (playerScore > computerScore) {
					console.log('Congrats! You won.');
				} else {
					console.log('Better luck next time!');
				}
			}

			game();
		</script>
	</body>
</html>
